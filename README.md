Это веб-приложение предназначена для быстрого получения аннотаций и интерпретаций текстов песен. Оно позволяет:

- Просматривать **Топ-10** и **Топ-50** треков.
- Изучать текст песни, разбитый на строки с эффектом hover.
- Получать короткую аннотацию выбранного фрагмента через OpenAI API.

---

## Установка и запуск

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/<ваш-логин>/music_project.git
   cd music_project
   ```

2. **Настройка переменных окружения**:
   - Скопируйте файл-пример в настоящий `.env`:
     ```bash
     cp backend/.env.example backend/.env
     ```
   - Откройте `backend/.env` и вставьте ваш ключ OpenAI:
     ```ini
     OPENAI_API_KEY=sk-ВАШ_КЛЮЧ
     ```

3. **Установка зависимостей и запуск Backend**:
   ```bash
   cd backend
   python3 -m venv venv
   source venv/bin/activate  # или venv/Scripts/activate на Windows
   pip install -r requirements.txt
   uvicorn server:app --reload --host 0.0.0.0 --port 8000
   ```

4. **Frontend**
   - Все статические файлы лежат в `backend/frontend` и монтируются по умолчанию.
   - Откройте `http://localhost:8000/` в браузере.

## Процесс проектирования и разработки проектирования и разработки

1. **Структура страниц**:
   - `index.html` — главная с hero-сектором и топ-10.
   - `albums.html` — статическая страница с 4 альбомами.
   - `tracks.html` — топ-50 треков.
   - `song.html` — детальная страница песни с аннотацией.

2. **Клиентская логика**:
   - `script.js` загружает треки из Last.fm API, переподключаясь по `data-limit`.
   - `song.js` подгружает информацию о треке и текст из Lyrics.ovh.
   - `annotate.js` отправляет выбранный фрагмент на `/api/annotate`.

3. **Backend**:
   - FastAPI обрабатывает запрос `.env` + OpenAI API.
   - Маршрут `/api/annotate` генерирует аннотации на основе GPT-3.5-turbo.

4. **Стилизация**:
   - Минималистичный двухцветный дизайн (белый фон внутри `main`, текст чёрный).
   - CSS-переменные для простой кастомизации.
   - Две колонки на странице трека, hover-эффекты для строк и карточек.


## Уникальные подходы и методологии

- **Единый скрипт** `script.js` для топ-10 и топ-50 (`data-limit`).
- **CSS-переменные** для централизованной темы.
- **Клиентское разделение текста** на строки с `element.createElement`.
- **Backend-аннотации** через OpenAI, защищённые `.env`.


## Компромиссы

- **Level 1**: статическая страница `albums.html` вместо динамического API.
- Минимальная реализация мобильной верстки.
- Отложен серверный поиск и фильтрация (Level 2).


## Известные ошибки и ограничения

- Иногда **Lyrics.ovh** не возвращает текст ("Текст не найден").
- Ограничение Last.fm API: максимум 50 треков.
- Необработанные CORS при переносе на другой домен.


## Технический стек

- **FastAPI + Uvicorn**: лёгкий и быстрый backend.
- **Vanilla JS**: отсутствие сборщиков, простота.
- **CSS-переменные**: гибкая тема.
- **Last.fm API**: получение топ-треков.
- **Lyrics.ovh API**: тексты песен.
- **OpenAI API**: генерация аннотаций.
